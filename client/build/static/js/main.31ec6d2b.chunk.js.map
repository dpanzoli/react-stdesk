{"version":3,"sources":["Task.js","TaskList.js","Comment.js","TaskDetails.js","App.js","reportWebVitals.js","index.js"],"names":["Task","props","state","overdue","selectTask","bind","e","stopPropagation","this","taskHasChanged","id","icon","complete","late","date","className","moment","format","onClick","selected","titre","categories","map","item","lib","React","Component","TaskList","error","isLoaded","items","fetch","then","res","json","result","setState","Object","entries","k","v","title","selectedTask","Comment","what","showControls","controlsOn","controlsOff","console","log","onMouseEnter","onMouseLeave","type","name","data","is_subtask","comment","user","TaskDetails","comments","clickAnywhere","App","cancelSelection","Fragment","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31ec6d2b.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport 'moment/locale/fr'\nimport './Task.css';\n\nclass Task extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\toverdue: true,\n\t\t};\n\t\tthis.selectTask = this.selectTask.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t}\n\t\n\t// Sélectionner la tâche au clic\n\tselectTask(e) {\n\t\te.stopPropagation();\n\t\tthis.props.taskHasChanged(this.props.id);\n\t}\n\t\n\trender() {\n\t\t// Icône devant la fiche\n\t\tlet icon;\n\t\tif (!this.props.date) {\n\t\t\ticon = <div className=\"nodate\"></div>;\n\t\t} else {\n\t\t\ticon = <div className=\"caldate\">\n\t\t\t\t\t<span className=\"month\">\n\t\t\t\t\t\t{moment(this.props.date).format('MMM')}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"day\">\n\t\t\t\t\t\t{moment(this.props.date).format('Do')}\n\t\t\t\t\t</span>\n\t\t\t\t</div>;\n\t\t}\n\t\t// Tâche complète\n\t\tlet complete;\n\t\tif (this.props.complete) {\n\t\t\tcomplete =\t<div className=\"ui green basic label\">\n\t\t\t\t\t\t\t<i className=\"check icon\"></i>Complété\n\t\t\t\t\t\t</div>;\n\t\t}\n\t\t// Tâche en retard\n\t\tlet late;\n\t\tif (!this.state.overdue) {\n\t\t\tlate =\t<div className=\"ui red basic label\">\n\t\t\t\t\t\t<i className=\"exclamation icon\"></i>En retard\n\t\t\t\t\t</div>;\n\t\t}\n\t\t\n\t\t// Composition de la vue\n\t\t\n\t\treturn (\n\t\t\t<div className=\"ui  item\" onClick={this.selectTask}>\n\t\t\t\t{icon}\n\t\t\t\t<div className=\"content\">\n\t\t\t\t<div className={`ui segment ${this.props.selected?'blue raised':''}`} >\n\t\t\t\t\t<h3 className=\"header\">{this.props.titre}</h3>\n\t\t\t\t\t<div className=\"description\">\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"extra\">\n\t\t\t\t\t\t<div className=\"ui tag labels\">\n\t\t\t\t\t\t\t{this.props.categories.map(item => (\n\t\t\t\t\t\t\t\t<span key={item.id} className=\"ui label\">\n\t\t\t\t\t\t\t\t\t{item.lib}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ complete }\n\t\t\t\t\t\t{ late }\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ui bottom attached progress\">\n\t\t\t\t\t\t<div className=\"bar\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\t\n}\n\t\nexport default Task;\n\n","import React from 'react';\nimport Task from './Task';\nimport './TaskList.css';\n\nclass TaskList extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t\tisLoaded: false,\n\t\t\titems: [],\n\t\t};\n\t}\n\t\n\tcomponentDidMount() {\n\t\tfetch('/allTasks')\n\t\t.then( res => res.json())\n\t\t.then(\n\t\t\t(result) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoaded: true,\n\t\t\t\t\titems: result\n\t\t\t\t});\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoaded: true,\n\t\t\t\t\terror\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\t\n\trender() {\n\t\tconst { error, isLoaded, items } = this.state;\n\t\tif (error) {\n\t\t\treturn (\n\t\t\t\t<div className=\"ui negative message\">\n\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\tChargement des tâches depuis la base de données\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>Le serveur a renvoyé une erreur</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (!isLoaded) {\n\t\t\treturn (\n\t\t\t\t<div id=\"loading\">Chargement des données</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div id='tasklist' className=\"ui items\">\n\t\t\t\t{ \n\t\t\t\t\tObject.entries(items).map( ([k, v]) =>  \n\t\t\t\t\t\t<Task \n\t\t\t\t\t\t\tkey={k}\n\t\t\t\t\t\t\tid={k}\n\t\t\t\t\t\t\ttitre={v.title}\n\t\t\t\t\t\t\tdate={v.date}\n\t\t\t\t\t\t\tcategories={v.categories}\n\t\t\t\t\t\t\tcomplete={v.complete}\n\t\t\t\t\t\t\ttaskHasChanged={this.props.taskHasChanged}\n\t\t\t\t\t\t\tselected={this.props.selectedTask===k}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\t\nexport default TaskList;\n\n","import React from 'react';\nimport './Comment.css';\nimport moment from 'moment'\nimport 'moment/locale/fr';\n\nclass Comment extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twhat: 'not',\n\t\t\tshowControls: false\n\t\t};\n\t\tthis.controlsOn = this.controlsOn.bind(this);\n\t\tthis.controlsOff = this.controlsOff.bind(this);\n\t}\n\t\n\tcontrolsOn() {\n\t\tconsole.log(\"show controls\");\n\t\tthis.setState({showControls: true});\n\t}\n\t\n\tcontrolsOff() {\n\t\tconsole.log(\"hide controls\");\n\t\tthis.setState({showControls: false});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"item\">\n\t\t\t\t<div className=\"content\" onMouseEnter={this.controlsOn} onMouseLeave={this.controlsOff}>\n\t\t\t\t\t<div className=\"ui checkbox\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"example\" />\n\t\t\t\t\t\t<label>{this.props.data.is_subtask}</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{this.props.data.comment}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"extra\">\n\t\t\t\t\t\tLe {moment(this.props.data.date).format('Do MMMM YYYY')}\n\t\t\t\t\t\tpar {this.props.data.user}\n\t\t\t\t\t\t<span className={`control ${this.state.showControls?'shown':''}`} >\n\t\t\t\t\t\t\t&nbsp;&mdash;&nbsp;\t\t\t\t\t\n\t\t\t\t\t\t\t\t<button className=\"ui compact basic primary mini icon button\">\n\t\t\t\t\t\t\t\t<i className=\"edit icon\"></i>\n\t\t\t\t\t\t\t\tModifier\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button className=\"ui compact basic primary mini icon button\">\n\t\t\t\t\t\t\t\t<i className=\"delete icon\"></i>\n\t\t\t\t\t\t\t\tSupprimer\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\t\nexport default Comment;\n\n","import React from 'react';\nimport Comment from './Comment';\nimport './TaskDetails.css';\n\nclass TaskDetails extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcomments: []\n\t\t};\n\t\tthis.clickAnywhere = this.clickAnywhere.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t\t//fetch(`/allComments?taskid=${this.props.id}`)\n\t\t//Relancer la requête chaque fois que this.props.id est mid à jour\n\t\tfetch('/allComments?taskid=0')\n\t\t.then( res => res.json())\n\t\t.then((result) => {\n\t\t\tthis.setState({comments: result});\n\t\t});\n\t}\n\t\n\tclickAnywhere(e) {\n\t\te.stopPropagation();\n\t}\n\t\n\tcomponentDidUpdate() {\n/*\t\tfetch(`/allComments?taskid=${this.props.id}`)\n\t\t.then( res => res.json())\n\t\t.then((result) => {\n\t\t\tthis.setState({comments: result});\n\t\t});\n*/\n\t}\n\t\n\trender() {\n\t\tconsole.log(this.state.comments);\n\t\tif (this.props.id === -1) return ( <div></div> );\n\t\treturn (\n\t\t\t<div id='taskdetails' className=\"ui piled segment\" onClick={this.clickAnywhere}>\n\t\t\t\t<h4>Détails de la tâche {this.props.id} </h4>\n\t\t\t\t<div className=\"ui progress\">\n\t\t\t\t\t<div className=\"bar\">\n\t\t\t\t\t\t<div className=\"progress\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"label\">1/10 complété(s)</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ui divided items\">\n\t\t\t\t{\n\t\t\t\t\tthis.state.comments.map((item) => \n\t\t\t\t\t\t<Comment key={item.id} data={item} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<button className=\"ui labeled icon button\">\n\t\t\t\t\t<i className=\"add icon\"></i>\n\t\t\t\t\tCommenter\n\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\t\nexport default TaskDetails;\n\n","import React from 'react';\nimport TaskList from './TaskList';\nimport TaskDetails from './TaskDetails';\nimport './App.css';\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedTask: -1\n\t\t};\n\t\tthis.taskHasChanged = this.taskHasChanged.bind(this);\n\t\tthis.cancelSelection = this.cancelSelection.bind(this);\n\t}\n\t\n\ttaskHasChanged(id) {\n\t\tthis.setState({selectedTask: id});\n\t}\n\t\n\tcancelSelection() {\n\t\tthis.setState({selectedTask: -1});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<h1 className=\"ui header\">ST Desk</h1>\n\t\t\t\t<div className=\"ui two column grid\" onClick={this.cancelSelection}>\n\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t<TaskList\n\t\t\t\t\t\t\ttaskHasChanged={this.taskHasChanged}\n\t\t\t\t\t\t\tselectedTask={this.state.selectedTask}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t<TaskDetails \n\t\t\t\t\t\t\tid={this.state.selectedTask}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\t\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}